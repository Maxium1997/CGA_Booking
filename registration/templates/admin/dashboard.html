{% extends 'base.html' %}
{% load registration_filters %}

{% block title %}Dashboard{% endblock %}

{% block content %}
    <div class="col-sm-12">
        <h3>Dashboard</h3>
        <div class="container">
            <ul class="nav nav-tabs" id="dashboardTab" role="tablist">
                <li class="nav-item">
                    <a class="nav-link active" id="user-tab" data-toggle="tab" href="#user" role="tab" aria-controls="user" aria-selected="true">User</a>
                </li>
            </ul>
            <div class="tab-content" id="tabContent">
                <div class="tab-pane fade show active" id="user" role="tabpanel" aria-labelledby="user-tab">
                    <div class="container">
                        <div class="row justify-content-center">
                            <div class="col-md-12">
                                <table class="table-responsive-sm table-striped">
                                    <thead class="text-center" style="font-size: 1.2em">
                                        <tr>
                                            <td style="width: 20%">Username</td>
                                            <td style="width: 10%">Privilege</td>
                                            <td style="width: 10%">Identity</td>
                                            <td style="width: 10%">Superuser</td>
                                            <td style="width: 20%">Last login</td>
                                        </tr>
                                    </thead>
                                    <tbody class="text-center" style="font-size: 1em">
                                    {% for user in users %}
                                        <tr>
                                            <td>{{ user.username }}</td>
                                            <td>{{ user.privilege|readablePrivilege }}</td>
                                            <td>{{ user.identity|readableIdentity }}</td>
                                            <td>
                                                {% if user.is_superuser %}
                                                V
                                                {% else %}
                                                X
                                                {% endif %}
                                            </td>
                                            <td>{{ user.last_login|date:'Y/m/d H:i' }}</td>
                                        </tr>
                                    {% empty %}
                                        <tr>
                                            <td colspan="5">No user recently.</td>
                                        </tr>
                                    {% endfor %}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}